# 正则表达式

## 1. 常见匹配模式

| 模式   | 描述                                                         |
| ------ | ------------------------------------------------------------ |
| \w     | 匹配字母、数字、下划线                                       |
| \W     | 匹配非字母、数字、下划线                                     |
| \s     | 匹配任意空白字符，等价于 [\t\n\r\f].                         |
| \S     | 匹配任意非空字符                                             |
| \d     | 匹配任意数字，等价于 [0-9]                                   |
| \D     | 匹配任意非数字                                               |
| \A     | **匹配字符串开始**                                           |
| \Z     | 匹配字符串结束，如果是存在换行，只匹配到换行前的结束字符串   |
| \z     | 匹配字符串结束                                               |
| \G     | 匹配最后匹配完成的位置                                       |
| \n     | 匹配一个换行符                                               |
| \t     | 匹配一个制表符                                               |
| ^      | **匹配一行字符串的开头**注意区分 **\A 匹配字符串开始**       |
| $      | 匹配字符串的末尾。                                           |
| .      | 匹配任意字符，除了换行符，当re.DOTALL标记被指定时，则可以匹配包括换行符的任意字符。 |
| [...]  | 用来表示一组字符,单独列出：[amk] 匹配 'a'，'m'或'k'          |
| [^...] | 不在[]中的字符：[^abc] 匹配除了a,b,c之外的字符。             |
| *      | 匹配0个或多个的表达式。                                      |
| +      | 匹配1个或多个的表达式。                                      |
| ?      | 匹配0个或1个由前面的正则表达式定义的片段，非贪婪方式         |
| {n}    | 精确匹配n个前面表达式。                                      |
| {n, m} | 匹配 n 到 m 次由前面的正则表达式定义的片段，贪婪方式         |
| a\|b   | 匹配a或b                                                     |
| ( )    | 匹配括号内的表达式，也表示一个组                             |

## 2. 常用正则表达式的方法

### 2.1 re.match

**re.match** 尝试从字符串的起始位置匹配一个模式，如果不是起始位置匹配成功的话，**match()** 就返回 **none**。

`match(pattern, string, flags=0)`

- pattern：正则表达式
- string：被操作字符串
- flags：修饰符

| 修饰符 | 描述                                                         |
| ------ | ------------------------------------------------------------ |
| `re.I` | 使匹配对大小写不敏感                                         |
| `re.L` | 做本地化识别（locale-aware）匹配                             |
| `re.M` | 多行匹配，影响 `^` 和 `$`                                    |
| `re.S` | 使 `.` 匹配包括换行在内的所有字符                            |
| `re.U` | 根据Unicode字符集解析字符。这个标志影响 `\w`, `\W`, `\b`, `\B`. |
| `re.X` | 该标志通过给予你更灵活的格式以便你将正则表达式写得更易于理解。 |


匹配目标：使用()来分组匹配目标

```python
content = 'Hello 123 4567 World_This is a Regex Demo'
result = re.match('^Hello\s(\d+)\s(\d+).*Demo$', content)
# 指定左右空格 \s
print(result)  # <re.Match object; span=(0, 41), match='Hello 123 4567 World_This is a Regex Demo'>
# 分组
print(result.group(1))  # 123
print(result.group(2))  # 4567
# 如果有两个括号指定，那就是result.group(n)  >>> n 你说的数据
print(result.span())  # (0, 41)
```



```
.* ：尽可能多的匹配（贪婪匹配）
.（点） ： 匹配任意字符，除了换行符
*（星号）：匹配0次或者多次，这里的多次就是很多次（不限匹配次数）
.* ： 连起来就是，匹配表达式：.（点） 的次数（也就是0次或多次）


.*? ：尽可能少的匹配（非贪婪匹配）

？ ：匹配次数只有0次或者1次（这就非常好理解了）
```



### 2.2 re.search

re.search 扫描整个字符串并返回第一个成功的匹配。

`search(pattern, string, flags=0)`

- pattern：正则表达式
- string：被操作字符串
- flags：修饰符





### 2.3 re.findall



### 2.4 re.sub

替换字符串中每一个匹配的子串后返回替换后的字符串。

`re.sub(pattern, repl, string, count=0, flags=0)`

- pattern：正则表达式
- repl：你要替换的成的字符串
- string：被操作字符串
- count：替换次数 0表示替换所有
- flags：修饰符



### 2.5 re.complie

将正则字符串编译成正则表达式对象





## 3. 参考

- [Python 正则表达式详解（re 库）](https://juejin.cn/post/6983821694326538247)



